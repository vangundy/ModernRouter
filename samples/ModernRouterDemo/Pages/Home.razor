@page "/home"
@page "/"
@using Microsoft.AspNetCore.Components.Routing
@using ModernRouter.Components

<PageTitle>Home - ModernRouter Demo</PageTitle>

<div class="container">
    <!-- Enhanced Breadcrumb Component -->
    <Breadcrumbs Options="@breadcrumbOptions" 
                 OnBreadcrumbClick="@HandleBreadcrumbClick" />

    <div class="hero-section">
    <h1>🚀 ModernRouter Demo</h1>
    <p class="lead">Welcome to the ModernRouter demonstration app!</p>
    <p>This demo showcases the enhanced breadcrumb component with rich metadata, accessibility features, and customization options.</p>
</div>

<div class="demo-section">
    <h2>🧭 Navigation Examples</h2>
    <p>Click these links to see the enhanced breadcrumbs in action:</p>
    
    <div class="nav-grid">
        <div class="nav-card">
            <h3>📋 Orders</h3>
            <p>View all orders with breadcrumb navigation</p>
            <button @onclick="@(() => NavigationManager.NavigateTo("orders"))" class="btn btn-primary">
                🔗 All Orders
            </button>
        </div>
        
        <div class="nav-card">
            <h3>📄 Specific Order</h3>
            <p>View a specific order with dynamic breadcrumbs</p>
            <button @onclick="@(() => NavigationManager.NavigateTo("orders/1"))" class="btn btn-primary">
                🔗 Order #1
            </button>
        </div>
        
        <div class="nav-card">
            <h3>📝 Order Details</h3>
            <p>Deep navigation with rich breadcrumb metadata</p>
            <button @onclick="@(() => NavigationManager.NavigateTo("orders/1/details/1"))" class="btn btn-primary">
                🔗 Order Details
            </button>
        </div>
        
        <div class="nav-card">
            <h3>🏷️ With Slug</h3>
            <p>Complex route with multiple parameters</p>
            <button @onclick="@(() => NavigationManager.NavigateTo("orders/1/details/1/some-product"))" class="btn btn-primary">
                🔗 Product Details
            </button>
        </div>
    </div>
</div>

<div class="demo-section">
    <h2>🎯 Route Aliases Demo</h2>
    <p>Explore the new route aliases feature with multiple URL paths leading to the same content:</p>
    
    <div class="nav-grid">
        <div class="nav-card">
            <h3>👤 User Profile Aliases</h3>
            <p>Multiple ways to access user profiles</p>
            <button @onclick="@(() => NavigationManager.NavigateTo("users/123"))" class="btn btn-primary">
                🔗 /users/123 (Primary)
            </button>
            <button @onclick="@(() => NavigationManager.NavigateTo("profile/123"))" class="btn btn-outline">
                🔗 /profile/123 (Alias)
            </button>
        </div>
        
        <div class="nav-card">
            <h3>📰 Article Redirects</h3>
            <p>Legacy URLs that redirect to canonical paths</p>
            <button @onclick="@(() => NavigationManager.NavigateTo("articles/42"))" class="btn btn-primary">
                🔗 /articles/42 (Canonical)
            </button>
            <button @onclick="@(() => NavigationManager.NavigateTo("posts/42"))" class="btn btn-warning">
                🔗 /posts/42 (Redirects)
            </button>
        </div>
        
        <div class="nav-card">
            <h3>🔗 Short URLs</h3>
            <p>Convenient short aliases for common paths</p>
            <button @onclick="@(() => NavigationManager.NavigateTo("u/456"))" class="btn btn-success">
                🔗 /u/456 (Short Alias)
            </button>
            <button @onclick="@(() => NavigationManager.NavigateTo("blog/789"))" class="btn btn-warning">
                🔗 /blog/789 (Legacy)
            </button>
        </div>
    </div>
</div>

<div class="features-section">
    <h2>✨ Breadcrumb Features</h2>
    <div class="features-grid">
        <div class="feature-card">
            <h3>🛡️ Security First</h3>
            <p>Built-in validation against XSS, SQL injection, and path traversal attacks</p>
        </div>
        <div class="feature-card">
            <h3>♿ Accessibility</h3>
            <p>WCAG compliant with ARIA attributes, keyboard navigation, and screen reader support</p>
        </div>
        <div class="feature-card">
            <h3>🎨 Customizable</h3>
            <p>Rich templating options, CSS custom properties, and responsive design</p>
        </div>
        <div class="feature-card">
            <h3>⚡ Performance</h3>
            <p>Smart change detection, auto-collapse, and optimized rendering</p>
        </div>
    </div>
</div>

@code {
    private BreadcrumbOptions breadcrumbOptions = new()
    {
        HomeLabel = "🏠 Demo Home",
        HomeUrl = "/",
        Separator = "→",
        MaxItems = 5,
        AutoCollapse = true,
        ShowIcons = true,
        ShowDescriptions = true,
        Animation = BreadcrumbAnimation.Fade,
        ContainerCssClass = "demo-breadcrumbs"
    };
    
    private Task HandleBreadcrumbClick(BreadcrumbEventArgs args)
    {
        // Example of custom breadcrumb click handling
        if (args.Item.Label.Contains("Demo Home"))
        {
            Console.WriteLine($"🏠 Navigating to home: {args.Item.Url}");
        }
        // Don't cancel navigation - let it proceed normally
        return Task.CompletedTask;
    }
}
</div>
